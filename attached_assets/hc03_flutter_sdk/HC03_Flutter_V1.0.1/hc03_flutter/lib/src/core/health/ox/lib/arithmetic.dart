// ignore_for_file: constant_identifier_names

import 'package:smartring_flutter/src/core/protocol/Exception.dart';
import 'package:smartring_flutter/src/core/sync/syncManager.dart';


class Arithmetic {
  static const LOW_PASS_COEFFICIENT_125 = [
    0.001024,
    0.001008,
    0.000948,
    0.000762,
    0.000337,
    -0.000436,
    -0.001633,
    -0.003248,
    -0.005169,
    -0.007157,
    -0.008847,
    -0.009776,
    -0.009433,
    -0.007321,
    -0.003038,
    0.003653,
    0.012764,
    0.02404,
    0.036957,
    0.050754,
    0.064489,
    0.077136,
    0.087688,
    0.095268,
    0.09923,
    0.09923,
    0.095268,
    0.087688,
    0.077136,
    0.064489,
    0.050754,
    0.036957,
    0.02404,
    0.012764,
    0.003653,
    -0.003038,
    -0.007321,
    -0.009433,
    -0.009776,
    -0.008847,
    -0.007157,
    -0.005169,
    -0.003248,
    -0.001633,
    -0.000436,
    0.000337,
    0.000762,
    0.000948,
    0.001008,
    0.001024
  ];
  static const LOW_PASS_COEFFICIENT_500 = [
    -0.00030864,
    -0.00043513,
    -0.00027284,
    -0.00030833,
    -0.00033506,
    -0.00034896,
    -0.00034538,
    -0.00031918,
    -0.00026464,
    -0.00017558,
    -0.00004551,
    0.0001323,
    0.00036486,
    0.0006593,
    0.0010227,
    0.0014618,
    0.0019833,
    0.0025933,
    0.0032971,
    0.0040995,
    0.0050042,
    0.0060139,
    0.0071301,
    0.0083528,
    0.0096808,
    0.011111,
    0.01264,
    0.014261,
    0.015967,
    0.017748,
    0.019595,
    0.021494,
    0.023433,
    0.025396,
    0.027369,
    0.029334,
    0.031275,
    0.033174,
    0.035013,
    0.036774,
    0.03844,
    0.039995,
    0.041421,
    0.042705,
    0.043832,
    0.044791,
    0.045571,
    0.046163,
    0.046562,
    0.046763,
    0.046763,
    0.046562,
    0.046163,
    0.045571,
    0.044791,
    0.043832,
    0.042705,
    0.041421,
    0.039995,
    0.03844,
    0.036774,
    0.035013,
    0.033174,
    0.031275,
    0.029334,
    0.027369,
    0.025396,
    0.023433,
    0.021494,
    0.019595,
    0.017748,
    0.015967,
    0.014261,
    0.01264,
    0.011111,
    0.0096808,
    0.0083528,
    0.0071301,
    0.0060139,
    0.0050042,
    0.0040995,
    0.0032971,
    0.0025933,
    0.0019833,
    0.0014618,
    0.0010227,
    0.0006593,
    0.00036486,
    0.0001323,
    -0.00004551,
    -0.00175558,
    -0.00026464,
    -0.00031918,
    -0.00034538,
    -0.00034896,
    -0.00033506,
    -0.00030833,
    -0.00027284,
    -0.00043513,
    -0.00030864
  ];

  static lowPassFilter(List raw, [int type = 125]) {
    dynamic sum = 0;
    List<double> coefficient = LOW_PASS_COEFFICIENT_125;
    if (type == 500) {
      coefficient = LOW_PASS_COEFFICIENT_500;
    }
    if (coefficient.length > raw.length) {
      SyncManager().bloodOxygenCatchError(
          message: "The Data not match",
          type: ExceptionType.OX_ERR_DATA_NO_MATCH);
      throw Exception("IllegallyParameter,The Length Of Array is not match!");
    }
    for (int i = 0; i < coefficient.length; i++) {
      sum += raw[i] * coefficient[i];
    }
    return sum;
  }

  static applyAvg(List data) {
    dynamic sum = 0;
    for (int i = 0; i < data.length; i++) {
      sum += data[i];
    }
    return sum / data.length;
  }
}
